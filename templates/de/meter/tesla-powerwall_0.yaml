product:
  brand: Tesla
  description: Powerwall
capabilities: ["battery-control"]
requirements: ["sponsorship"]
description: |
  Benötigt `access` und `refresh` Tokens. Diese können über [tesla.evcc.io](https://tesla.evcc.io) erstellt werden.
  Die optionale Batteriesteuerung erfolgt über einen evcc Proxy-Server und erfordert ein Sponsor Token.
  Siehe https://tesla.evcc.io.

render:
  - usage: grid
    default: |
      type: template
      template: tesla-powerwall
      usage: grid
      host: 192.0.2.2 # IP-Adresse oder Hostname
      password: # Passwort des Benutzers "Kunde". Default sind die letzten 5 Zeichen des auf dem Tesla Gateway genannten Passworts.
      accessToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optionale Product ID dieser Energy Site, zum Übersteuern der automatischen Erkennung (optional)
    advanced: |
      type: template
      template: tesla-powerwall
      usage: grid
      host: 192.0.2.2 # IP-Adresse oder Hostname
      password: # Passwort des Benutzers "Kunde". Default sind die letzten 5 Zeichen des auf dem Tesla Gateway genannten Passworts.
      accessToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optionale Product ID dieser Energy Site, zum Übersteuern der automatischen Erkennung (optional)
      minSoc: 25 # die Energyreserve auf die zurückgesetzt wird, wenn die Entladung wieder freigegeben wird (optional)
      maxSoc: # die Energyreserve auf die gesetzt wird, wenn Batterieladung angefordert wird (optional)
  - usage: pv
    default: |
      type: template
      template: tesla-powerwall
      usage: pv
      host: 192.0.2.2 # IP-Adresse oder Hostname
      password: # Passwort des Benutzers "Kunde". Default sind die letzten 5 Zeichen des auf dem Tesla Gateway genannten Passworts.
      accessToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optionale Product ID dieser Energy Site, zum Übersteuern der automatischen Erkennung (optional)
    advanced: |
      type: template
      template: tesla-powerwall
      usage: pv
      host: 192.0.2.2 # IP-Adresse oder Hostname
      password: # Passwort des Benutzers "Kunde". Default sind die letzten 5 Zeichen des auf dem Tesla Gateway genannten Passworts.
      accessToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optionale Product ID dieser Energy Site, zum Übersteuern der automatischen Erkennung (optional)
      minSoc: 25 # die Energyreserve auf die zurückgesetzt wird, wenn die Entladung wieder freigegeben wird (optional)
      maxSoc: # die Energyreserve auf die gesetzt wird, wenn Batterieladung angefordert wird (optional)
  - usage: battery
    default: |
      type: template
      template: tesla-powerwall
      usage: battery
      host: 192.0.2.2 # IP-Adresse oder Hostname
      password: # Passwort des Benutzers "Kunde". Default sind die letzten 5 Zeichen des auf dem Tesla Gateway genannten Passworts.
      accessToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optionale Product ID dieser Energy Site, zum Übersteuern der automatischen Erkennung (optional)
    advanced: |
      type: template
      template: tesla-powerwall
      usage: battery
      host: 192.0.2.2 # IP-Adresse oder Hostname
      password: # Passwort des Benutzers "Kunde". Default sind die letzten 5 Zeichen des auf dem Tesla Gateway genannten Passworts.
      accessToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # Siehe https://docs.evcc.io/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optionale Product ID dieser Energy Site, zum Übersteuern der automatischen Erkennung (optional)
      minSoc: 25 # die Energyreserve auf die zurückgesetzt wird, wenn die Entladung wieder freigegeben wird (optional)
      maxSoc: # die Energyreserve auf die gesetzt wird, wenn Batterieladung angefordert wird (optional)
