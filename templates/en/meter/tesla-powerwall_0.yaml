product:
  brand: Tesla
  description: Powerwall
capabilities: ["battery-control"]
requirements: ["sponsorship"]
description: |
  Teska `access` and `refresh` tokens are required. These can be generated through [tesla.evcc.io](https://tesla.evcc.io).
  Optional battery control is done via an evcc proxy server and requires a sponsor token.
  Siehe https://tesla.evcc.io.

render:
  - usage: grid
    default: |
      type: template
      template: tesla-powerwall
      usage: grid
      host: 192.0.2.2 # IP address or hostname
      password: # Password of the user "customer". By default this is the last 5 characters of password stated on the Tesla Gateway.
      accessToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optional product identifier of the energy site, use to override autodectction (optional)
    advanced: |
      type: template
      template: tesla-powerwall
      usage: grid
      host: 192.0.2.2 # IP address or hostname
      password: # Password of the user "customer". By default this is the last 5 characters of password stated on the Tesla Gateway.
      accessToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optional product identifier of the energy site, use to override autodectction (optional)
      minSoc: 25 # the battery reserve percentage to reset to when switching the Battery back to normal operations (optional)
      maxSoc: # the battery reserve percentage to set to when switching the Battery to charge mode (optional)
  - usage: pv
    default: |
      type: template
      template: tesla-powerwall
      usage: pv
      host: 192.0.2.2 # IP address or hostname
      password: # Password of the user "customer". By default this is the last 5 characters of password stated on the Tesla Gateway.
      accessToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optional product identifier of the energy site, use to override autodectction (optional)
    advanced: |
      type: template
      template: tesla-powerwall
      usage: pv
      host: 192.0.2.2 # IP address or hostname
      password: # Password of the user "customer". By default this is the last 5 characters of password stated on the Tesla Gateway.
      accessToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optional product identifier of the energy site, use to override autodectction (optional)
      minSoc: 25 # the battery reserve percentage to reset to when switching the Battery back to normal operations (optional)
      maxSoc: # the battery reserve percentage to set to when switching the Battery to charge mode (optional)
  - usage: battery
    default: |
      type: template
      template: tesla-powerwall
      usage: battery
      host: 192.0.2.2 # IP address or hostname
      password: # Password of the user "customer". By default this is the last 5 characters of password stated on the Tesla Gateway.
      accessToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optional product identifier of the energy site, use to override autodectction (optional)
    advanced: |
      type: template
      template: tesla-powerwall
      usage: battery
      host: 192.0.2.2 # IP address or hostname
      password: # Password of the user "customer". By default this is the last 5 characters of password stated on the Tesla Gateway.
      accessToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      refreshToken: # See https://docs.evcc.io/en/docs/devices/meters#tesla-powerwall (optional)
      siteId: # optional product identifier of the energy site, use to override autodectction (optional)
      minSoc: 25 # the battery reserve percentage to reset to when switching the Battery back to normal operations (optional)
      maxSoc: # the battery reserve percentage to set to when switching the Battery to charge mode (optional)
